<ActionBar class="action-bar" [style]="actionBarStyle">
    <NavigationButton android.systemIcon="ic_menu_back" (tap)="goBack()" [visibility]="(currentUser && currentUser !== '') ? 'visible' : 'collapsed'"></NavigationButton>
    <Label [text]="('fa-user-plus' | fonticon) + ' New Associate'" class="h2 fa" [style]="actionBarTextStyle"></Label>
</ActionBar>

<StackLayout class="page m-15">
    <StackLayout orientation="horizontal" horizontalAlignment="center" *ngIf="message">
        <Label [text]="message"></Label>
    </StackLayout>
    <TabView [(ngModel)]="tabSelectedIndex">
        <StackLayout *tabItem="{title: 'New Associate'}">
            <GridLayout class="m-5" rows="auto auto auto auto auto auto" columns="*, *" [formGroup]="newAssociateForm">
                <Label row="0" col="0" colSpan="2" class="h3 m-15" text="Please enter First and Last Name; an Associate ID will be generated for you, but can be edited as necessary." textWrap="true"></Label>
                <Label row="1" col="0" class="h3 m-15" text="First Name"></Label>
                <TextField row="1" col="1" class="input input-border" formControlName="firstname" id="firstname" hint="First Name" [text]="" (textChange)="onFirstNameChange($event)"></TextField>
                <Label row="2" col="0" class="h3 m-15" text="Last Name"></Label>
                <TextField row="2" col="1" class="input input-border" formControlName="lastname" id="lastname" hint="Last Name" [text]="" (textChange)="onLastNameChange($event)"></TextField>
                <Label row="3" col="0" class="h3 m-15" text="Associate ID"></Label>
                <TextField row="3" col="1" class="input input-border" formControlName="associateid" id="associateid" hint="Associate ID" [text]="" (textChange)="onIdChange($event)" (blur)="onIdChange($event)"></TextField>
                <Label row="4" col="0" class="h3 m-15" text="Password (optional)"></Label>
                <TextField row="4" col="1" class="input input-border" formControlName="associatepw" id="associatepw" hint="Password" [text]="" secure="true" (textChange)="onFieldChange('associatepw', $event)"></TextField>
                <Button row="5" col="1" class="btn btn-primary btn-active m-15" text="Submit" (tap)="newSubmit()" [isEnabled]="newAssociateForm.valid" [style]="newBtnStyle"></Button>
            </GridLayout>
        </StackLayout>
        <StackLayout *tabItem="{title: 'Existing Associate'}">
            <GridLayout class="m-5" rows="auto auto auto auto" columns="*, *" [formGroup]="existingAssociateForm">
                <Label row="0" col="0" colSpan="2" class="h3 m-15" text="Please enter your Associate ID and Password (if applicable)" textWrap="true"></Label>
                <Label row="1" col="0" class="h3 m-15" text="Associate ID"></Label>
                <TextField row="1" col="1" class="input input-border" formControlName="associateid" id="associateid" hint="Associate ID" [text]="" (blur)="onIdChange($event)"></TextField>
                <Label row="2" col="0" class="h3 m-15" text="Password (optional)"></Label>
                <TextField row="2" col="1" class="input input-border" formControlName="associatepw" id="associatepw" hint="Password" [text]="" secure="true" (textChange)="onFieldChange('associatepw', $event)"></TextField>
                <Button row="3" col="1" class="btn btn-primary btn-active m-15" text="Submit" (tap)="existingSubmit()" [isEnabled]="existingAssociateForm.valid" [style]="existBtnStyle"></Button>
            </GridLayout>
        </StackLayout>
    </TabView>
</StackLayout>